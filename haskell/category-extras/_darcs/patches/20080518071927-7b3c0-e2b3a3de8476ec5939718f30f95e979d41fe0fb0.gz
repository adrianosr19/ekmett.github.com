[Fighting the cabal
ekmett@gmail.com**20080518071927
 
 Why can't cabal pass options to haddock?
 
 I'm not apparently able to use a -D__whatever__ flag for haddock because i can't sent it via ghc-options
 or hackage pitches a fit, and i can't send it via cpp-options, because it never makes it to haddock.
 
 Work around in place.
 
] {
hunk ./category-extras.cabal 125
-        ghc-options:            -Wall
+        ghc-options:            -Wall 
hunk ./category-extras.cabal 128
-                build-depends: ghc > 6.9
---              cpp-options: -D__ARROW_SUBCLASSES_CATEGORY__
-                ghc-options: -D__ARROW_SUBCLASSES_CATEGORY__
-		-- we have to use the WRONG one to get it to work with haddock!
+                build-depends: ghc >= 6.9
+                cpp-options: -D__ARROW_SUBCLASSES_CATEGORY__=1
+--              ghc-options: -D__ARROW_SUBCLASSES_CATEGORY__
+		-- if you want docs you have to use the WRONG one to get it to work with haddock!
+        } else { 
+                build-depends: ghc < 6.9
hunk ./category-extras.cabal 138
-                extensions:
-                        TypeFamilies
---              cpp-options: -D__USE_TYPE_FAMILIES__
-                ghc-options: -D__USE_TYPE_FAMILIES__
-		-- we have to use the WRONG one to get it to work with haddock!
+                extensions: TypeFamilies
hunk ./src/Control/Arrow/BiKleisli.hs 18
-#ifdef __ARROW_SUBCLASSES_CATEGORY__
+#if __GLASGOW_HASKELL__ >= 609
hunk ./src/Control/Arrow/BiKleisli.hs 37
-#ifdef __ARROW_SUBCLASSES_CATEGORY__
+#if __GLASGOW_HASKELL__ >= 609
hunk ./src/Control/Arrow/CoKleisli.hs 19
-#ifdef __ARROW_SUBCLASSES_CATEGORY__
+#if __GLASGOW_HASKELL__ >= 609
hunk ./src/Control/Arrow/CoKleisli.hs 37
-#ifdef __ARROW_SUBCLASSES_CATEGORY__
+#if __GLASGOW_HASKELL__ >= 609
}
