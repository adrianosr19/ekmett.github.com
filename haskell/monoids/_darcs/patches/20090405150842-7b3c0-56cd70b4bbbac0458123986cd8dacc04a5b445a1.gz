[bugfix
ekmett@gmail.com**20090405150842
 Ignore-this: a8107d01efb17aebe7cddd51abb01f8a
] {
hunk ./Data/Ring/Semi/BitSet.hs 20
-    , module Data.Monoid.Semi
+    , module Data.Ring.Semi
hunk ./Data/Ring/Semi/BitSet.hs 41
+    , isComplemented
hunk ./Data/Ring/Semi/BitSet.hs 49
+import Data.Ring.Semi
hunk ./Data/Ring/Semi/BitSet.hs 53
-import GHC.Integer.Internals
+import Text.Read
+import Text.Show
hunk ./Data/Ring/Semi/BitSet.hs 133
-pseudoComplement :: BitSet a -> BitSet a 
+pseudoComplement :: BitSet a -> (Int,Int) -> BitSet a 
hunk ./Data/Ring/Semi/BitSet.hs 248
-difference x@(BS a b c l h m u)  y@(BS a' b' c' l' h' u') 
+difference x@(BS a b _ _ _ m u)  y@(BS a' b' _ _ _ m' _) 
hunk ./Data/Ring/Semi/BitSet.hs 264
-        | signum m == signum m' = shift m (l - l'') == shift m' (l - l'') where l'' = min l l'
+        | signum m == signum m' = shift m (l - l'') == shift m' (l - l'') 
hunk ./Data/Ring/Semi/BitSet.hs 268
+            l'' = min l l'
hunk ./Data/Ring/Semi/BitSet.hs 273
+-- TODO finish
hunk ./Data/Ring/Semi/BitSet.hs 294
-recount !n = recount' 0 0 where
-    h = hwm n
-    recount' !i !c
-        | i > h = c
-        | otherwise = recount' (i+1) (if testBit n i then c+1 else c)
+    | n < 0     = Bits.complement (recount (Bits.complement n))
+    | otherwise = recount' 0 0 
+    where
+        h = hwm n
+        recount' !i !c
+            | i > h = c
+            | otherwise = recount' (i+1) (if testBit n i then c+1 else c)
hunk ./Data/Ring/Semi/BitSet.hs 313
-            | bit i' > n        = i
-            | otherwise         = probe i'
-            where i' = 2*i
+            | bit (2*i) > n = i
+            | otherwise     = probe (2*i)
hunk ./Data/Ring/Semi/BitSet.hs 326
-        | m < 0     = showParen (d > 10) $ showString "pseudoComplement " . showsPrec 11 (recomplement x)) . showString " " . showsPrec 11 u
+        | m < 0     = showParen (d > 10) $ showString "pseudoComplement " . showsPrec 11 (recomplement x) . showString " " . showsPrec 11 u
hunk ./Data/Ring/Semi/BitSet.hs 329
-instance (Read a) => Read (BitSet a) where
+instance (Enum a, Read a) => Read (BitSet a) where
hunk ./monoids.cabal 2
-version:	    0.1.28
+version:	    0.1.29
}
