module Data.Rope 
    ( 
    -- * Size
      Rope
    , length    -- :: Rope m -> Int
    , null      -- :: Rope m -> Bool
    -- * Splicing
    , Reducer(..)
    -- * Slicing
    , Elidable
    , elide     -- :: Elidable m => Int -> Int -> Rope m -> Rope m
    , splitAt   -- :: Elidable m => Int -> Rope m -> (Rope m, Rope m)
    , take      -- :: Elidable m => Int -> Rope m -> Rope m
    , drop      -- :: Elidable m => Int -> Rope m -> Rope m
    -- * Walking
    , Unpackable(..)
    -- * Packing 'Rope'
    -- ** Polymorphic construction
    , Packable(..)
    -- ** Explicit construction
    , empty              -- :: Monoid m => Rope m
    , fromByteString     -- :: ByteString `Reducer` m => ByteString -> Rope m
    , fromChunks         -- :: ByteString `Reducer` m => [ByteString] -> Rope m
    , fromLazyByteString -- :: ByteString `Reducer` m => L.ByteString -> Rope m
    , fromWords          -- :: ByteString `Reducer` m => [Word8] -> Rope m
    , fromChar           -- :: ByteString `Reducer` m => Char -> Rope m
    , fromWord8          -- :: ByteString `Reducer` m => Word8 -> Rope m
    , fromString         -- :: ByteString `Reducer` m => String -> Rope m
    -- * Deconstructing 'Rope's
    , toChunks           -- :: Rope m -> [ByteString]
    , toLazyByteString   -- :: Rope m -> L.ByteString
    , toString           -- :: Rope m -> String
    ) where

import Prelude hiding (null,head,length,drop,take,splitAt, last)
import Data.Rope.Internal 
    ( Rope
    , empty
    , length
    , null
    , fromChunks
    , fromByteString
    , fromLazyByteString
    , fromWords
    , fromChar
    , fromWord8
    , fromString
    , toLazyByteString
    , Packable, pack, packl, packr
    , Elidable, elide, splitAt, take, drop)
import Data.Rope.Unpackable (Unpackable, unpack, head, last, uncons, unsnoc)
import Data.Rope.Util.Reducer (Reducer, cons, snoc, unit)
import Data.ByteString (ByteString)

toString :: Rope m -> String
toString = unpack

toChunks :: Rope m -> [ByteString]
toChunks = unpack
